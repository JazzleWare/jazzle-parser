do {
  yield
} while (yield)

<container:do>
  <seg a>yield</seg>
  <seg b>yield</seg>
  <seg:test e>sent</seg>
</container>

if state <= e {
  do {
    if state == a { state = b; return }
    if state == b { state = e; return }
    if state == e {
       if sent { state = a }
       else { state = last;break }
    }
  } while (!false)
}  
